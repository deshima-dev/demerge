<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DESHIMA: dmerge Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="deshima-icon.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DESHIMA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">dmerge Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdmerge_1_1_sweep_data.html">SweepData</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdmerge_1_1_fixed_data.html">FixedData</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdmerge_1_1_fixed_fit_data.html">FixedFitData</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdmerge_1_1_t_o_ds.html">TODs</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac8ea94373773c639b3ef7008c7d5964b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedmerge.html#ac8ea94373773c639b3ef7008c7d5964b">divide_data</a> (kidslist, localsweep, tods)</td></tr>
<tr class="separator:ac8ea94373773c639b3ef7008c7d5964b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c5f354b614667caaf5213c5bb944133"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedmerge.html#a5c5f354b614667caaf5213c5bb944133">find_nearest_blind_tones</a> (kidslist)</td></tr>
<tr class="separator:a5c5f354b614667caaf5213c5bb944133"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a347d4ee927e7b04075281d0de0cbb576"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedmerge.html#a347d4ee927e7b04075281d0de0cbb576">load_kidslist</a> (filename)</td></tr>
<tr class="separator:a347d4ee927e7b04075281d0de0cbb576"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d9522fe35fdd36841ad3b1945bb9648"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedmerge.html#a0d9522fe35fdd36841ad3b1945bb9648">load_localsweep</a> (filename, framelen)</td></tr>
<tr class="separator:a0d9522fe35fdd36841ad3b1945bb9648"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bb4b2855e6f6ba8be356cd3e0bc17d3"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedmerge.html#a1bb4b2855e6f6ba8be356cd3e0bc17d3">fit_onepeak</a> (sweepdata, peaks, nfwhm=5)</td></tr>
<tr class="separator:a1bb4b2855e6f6ba8be356cd3e0bc17d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a606bff86e307f51683a7f35c36611caa"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedmerge.html#a606bff86e307f51683a7f35c36611caa">search_peak</a> (sweepdata, peaks)</td></tr>
<tr class="separator:a606bff86e307f51683a7f35c36611caa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a395e452ead51556992d27cc181fea261"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedmerge.html#a395e452ead51556992d27cc181fea261">find_peaks</a> (freq, ampl, fc, smooth=None, threshold=None, minq=10000, maxratio=0.5)</td></tr>
<tr class="separator:a395e452ead51556992d27cc181fea261"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4c24a0be0dfe7a8432cc120df6ae649"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedmerge.html#ac4c24a0be0dfe7a8432cc120df6ae649">oddify</a> (n)</td></tr>
<tr class="separator:ac4c24a0be0dfe7a8432cc120df6ae649"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c621ad35f72bace4f3c9eb627a3278b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedmerge.html#a7c621ad35f72bace4f3c9eb627a3278b">fitLorentzian</a> (freq, ampl, f0, q0)</td></tr>
<tr class="separator:a7c621ad35f72bace4f3c9eb627a3278b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76a7d4d7f00926da4a3c9b0595b73dbd"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedmerge.html#a76a7d4d7f00926da4a3c9b0595b73dbd">adjust_fitrange</a> (nfwhm, ndata, nparams, peakparams, factor=1)</td></tr>
<tr class="separator:a76a7d4d7f00926da4a3c9b0595b73dbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa868545fa59890b62e3e18d50a8115f7"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedmerge.html#aa868545fa59890b62e3e18d50a8115f7">readout_dict</a> ()</td></tr>
<tr class="separator:aa868545fa59890b62e3e18d50a8115f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a581dff913e689384f36e4c4d7779ae7f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedmerge.html#a581dff913e689384f36e4c4d7779ae7f">kids_dict</a> ()</td></tr>
<tr class="separator:a581dff913e689384f36e4c4d7779ae7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa799363ecb09bd8b3b35a508b53ebbf7"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedmerge.html#aa799363ecb09bd8b3b35a508b53ebbf7">rebin_array</a> (inarray, rebin)</td></tr>
<tr class="separator:aa799363ecb09bd8b3b35a508b53ebbf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a485ef880934aee663033a7285816bf26"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedmerge.html#a485ef880934aee663033a7285816bf26">find_glitch</a> (yss, baseline_thresh=6.0, glitch_thresh=5.0, clusterize_thresh=2, offset=0, opt_diff2=True, smrange=1, returnval=False)</td></tr>
<tr class="separator:a485ef880934aee663033a7285816bf26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97dd94ea8f987fe852a7daa77329df79"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedmerge.html#a97dd94ea8f987fe852a7daa77329df79">calibrate_with_blind_tones</a> (signal, blind_left, blind_right)</td></tr>
<tr class="separator:a97dd94ea8f987fe852a7daa77329df79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14cbcb50ffd3b04e2104e30284669103"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedmerge.html#a14cbcb50ffd3b04e2104e30284669103">interpolate_bad</a> (ys, bad)</td></tr>
<tr class="separator:a14cbcb50ffd3b04e2104e30284669103"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f88b6328898e57c9189258eb9dd0217"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedmerge.html#a0f88b6328898e57c9189258eb9dd0217">createBinTableHDU</a> (data_dict)</td></tr>
<tr class="separator:a0f88b6328898e57c9189258eb9dd0217"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8551e11509e6e3c0fa1a2fd8ee278f63"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedmerge.html#a8551e11509e6e3c0fa1a2fd8ee278f63">addHeaderComments</a> (hdr, key, com)</td></tr>
<tr class="separator:a8551e11509e6e3c0fa1a2fd8ee278f63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a322943a152d4d4ee88bdf45093e38101"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedmerge.html#a322943a152d4d4ee88bdf45093e38101">f_Lorentzian</a> (params, freq, data=None)</td></tr>
<tr class="separator:a322943a152d4d4ee88bdf45093e38101"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74409ef120c1397ccf34fbe021d32399"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedmerge.html#a74409ef120c1397ccf34fbe021d32399">gaolinbg_guess</a> (sweepdata, peaks)</td></tr>
<tr class="separator:a74409ef120c1397ccf34fbe021d32399"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6155b8f9180884b4a5fd340809d3941"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedmerge.html#ad6155b8f9180884b4a5fd340809d3941">gaolinbg_rewind</a> (x, y, arga, absa, tau, fr, Qr, Qc, phi0, c)</td></tr>
<tr class="separator:ad6155b8f9180884b4a5fd340809d3941"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95d520a6de8c70176d33ee29c85d5970"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedmerge.html#a95d520a6de8c70176d33ee29c85d5970">gaolinbg_expression</a> ()</td></tr>
<tr class="separator:a95d520a6de8c70176d33ee29c85d5970"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0a1f68887b5a819af4859103464370a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedmerge.html#af0a1f68887b5a819af4859103464370a">gaolinbg_bg_expression</a> ()</td></tr>
<tr class="separator:af0a1f68887b5a819af4859103464370a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9388d6c18c621fb538196ffb808575a8"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedmerge.html#a9388d6c18c621fb538196ffb808575a8">gaolinbg_function</a> ()</td></tr>
<tr class="separator:a9388d6c18c621fb538196ffb808575a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a762ded2b68096e166fb5293bbbad975a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedmerge.html#a762ded2b68096e166fb5293bbbad975a">gaolinbg_bg_function</a> ()</td></tr>
<tr class="separator:a762ded2b68096e166fb5293bbbad975a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1562e34f7b8f3e5d9f559dc4b807aeee"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedmerge.html#a1562e34f7b8f3e5d9f559dc4b807aeee">gaolinbg_param_gradient_function</a> ()</td></tr>
<tr class="separator:a1562e34f7b8f3e5d9f559dc4b807aeee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae23879f0c354748d3677f7a91b2846b1"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedmerge.html#ae23879f0c354748d3677f7a91b2846b1">complex_to_cartesian2darray</a> (x)</td></tr>
<tr class="separator:ae23879f0c354748d3677f7a91b2846b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4009762ae43af98ef015945c0b90817"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedmerge.html#ac4009762ae43af98ef015945c0b90817">cartesian2darray_to_complex</a> (x)</td></tr>
<tr class="separator:ac4009762ae43af98ef015945c0b90817"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8b79165502933a25c49ed78585423bd"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedmerge.html#ad8b79165502933a25c49ed78585423bd">power_spectrum_density</a> (data, dt, ndivide=1, window=scipy.signal.hanning, overwrap_half=False)</td></tr>
<tr class="separator:ad8b79165502933a25c49ed78585423bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">DESHIMA解析プログラム

File name: dmerge.py
Python 3.7
(C) 2021 内藤システムズ
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a8551e11509e6e3c0fa1a2fd8ee278f63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8551e11509e6e3c0fa1a2fd8ee278f63">&#9670;&nbsp;</a></span>addHeaderComments()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def dmerge.addHeaderComments </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>hdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>com</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Add Comments to Header</pre> 
<p class="definition">Definition at line <a class="el" href="dmerge_8py_source.html#l00760">760</a> of file <a class="el" href="dmerge_8py_source.html">dmerge.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="dmerge_8py_source.html#l00742">createBinTableHDU()</a>.</p>

</div>
</div>
<a id="a76a7d4d7f00926da4a3c9b0595b73dbd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76a7d4d7f00926da4a3c9b0595b73dbd">&#9670;&nbsp;</a></span>adjust_fitrange()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def dmerge.adjust_fitrange </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nfwhm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ndata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nparams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>peakparams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>factor</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Adjust fit range to make sure :math:`N_{free} \geq nparam`
引数
----
float   nfwhm: minimum fit length in unit of FWHM
integer ndata: length of data
integer nparams: number of parameter
dict    peakparams: peak information
integer factor

戻り値
------
tuple (rbegin, rend) フィット範囲の始まりと終わりのインデックス

factorについて
--------------
Specify 2 as 'factor' if you fit complex variable(as 2d-vector).

利用するピークパラメタ
----------------------
 - f0ind: a integer, index of peak center
 - dl   : a integer, index count to reach the left half-maximum
 - dr   : a integer, index count to reach the right half-maximum
</pre> 
<p class="definition">Definition at line <a class="el" href="dmerge_8py_source.html#l00480">480</a> of file <a class="el" href="dmerge_8py_source.html">dmerge.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="dmerge_8py_source.html#l00227">fit_onepeak()</a>.</p>

</div>
</div>
<a id="a97dd94ea8f987fe852a7daa77329df79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97dd94ea8f987fe852a7daa77329df79">&#9670;&nbsp;</a></span>calibrate_with_blind_tones()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def dmerge.calibrate_with_blind_tones </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>signal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>blind_left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>blind_right</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">do blind tone calibration.
引数
----
signal     : signal tone TOD.
blind_left : left blind tone TOD.
blind_right: right blind tone TOD.

戻り値
------
a 1-D array of complex value (calibrated IQ)

詳細
----
each parameter is either a FixedData or a tuple (freq, IQ)
where freq is a frequency [Hz],
IQ is a 1-D array of IQ data as complex value.
</pre> 
<p class="definition">Definition at line <a class="el" href="dmerge_8py_source.html#l00693">693</a> of file <a class="el" href="dmerge_8py_source.html">dmerge.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="make__reduced__fits_8py_source.html#l00025">make_reduced_fits.make_reduced_fits()</a>, <a class="el" href="test__dmerge_8py_source.html#l00064">test_dmerge.DmergeTestDrive.test_FixedData()</a>, and <a class="el" href="test__dmerge_8py_source.html#l00110">test_dmerge.DmergeTestDrive.test_FixedFitData()</a>.</p>

</div>
</div>
<a id="ac4009762ae43af98ef015945c0b90817"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4009762ae43af98ef015945c0b90817">&#9670;&nbsp;</a></span>cartesian2darray_to_complex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def dmerge.cartesian2darray_to_complex </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dmerge_8py_source.html#l00875">875</a> of file <a class="el" href="dmerge_8py_source.html">dmerge.py</a>.</p>

</div>
</div>
<a id="ae23879f0c354748d3677f7a91b2846b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae23879f0c354748d3677f7a91b2846b1">&#9670;&nbsp;</a></span>complex_to_cartesian2darray()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def dmerge.complex_to_cartesian2darray </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dmerge_8py_source.html#l00870">870</a> of file <a class="el" href="dmerge_8py_source.html">dmerge.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="dmerge_8py_source.html#l00227">fit_onepeak()</a>.</p>

</div>
</div>
<a id="a0f88b6328898e57c9189258eb9dd0217"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f88b6328898e57c9189258eb9dd0217">&#9670;&nbsp;</a></span>createBinTableHDU()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def dmerge.createBinTableHDU </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data_dict</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dmerge_8py_source.html#l00742">742</a> of file <a class="el" href="dmerge_8py_source.html">dmerge.py</a>.</p>

<p class="reference">References <a class="el" href="dmerge_8py_source.html#l00760">addHeaderComments()</a>.</p>

<p class="reference">Referenced by <a class="el" href="make__reduced__fits_8py_source.html#l00025">make_reduced_fits.make_reduced_fits()</a>.</p>

</div>
</div>
<a id="ac8ea94373773c639b3ef7008c7d5964b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8ea94373773c639b3ef7008c7d5964b">&#9670;&nbsp;</a></span>divide_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def dmerge.divide_data </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>kidslist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>localsweep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tods</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">KID毎にSweepデータやTODを分割して辞書に格納する
引数
----
list dmerge.load_kidslist()関数で得られるタプル(info, kid_bins, blind_bins, powers)
list SweepDataオブジェクトのリスト
TODs TODsオブジェクト

戻り値
------
リスト
</pre> 
<p class="definition">Definition at line <a class="el" href="dmerge_8py_source.html#l00022">22</a> of file <a class="el" href="dmerge_8py_source.html">dmerge.py</a>.</p>

<p class="reference">References <a class="el" href="dmerge_8py_source.html#l00055">find_nearest_blind_tones()</a>.</p>

<p class="reference">Referenced by <a class="el" href="test__dmerge_8py_source.html#l00178">test_dmerge.DmergeTestDrive.test_divide_data()</a>, and <a class="el" href="test__dmerge_8py_source.html#l00253">test_dmerge.DmergeTestDrive.test_fit_sweep()</a>.</p>

</div>
</div>
<a id="a322943a152d4d4ee88bdf45093e38101"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a322943a152d4d4ee88bdf45093e38101">&#9670;&nbsp;</a></span>f_Lorentzian()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def dmerge.f_Lorentzian </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>freq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Lorengzianモデル関数
mkid_data/peak_search.pyで使われている関数と同じ。
引数のdataが指定された場合はモデル関数の計算値とdataの差を返す。
            
引数
----
numpy.Parameters
numpy.array 周波数
numpy.array amplitude

戻り値
------
モデルの計算値|計算値とdataの差
</pre> 
<p class="definition">Definition at line <a class="el" href="dmerge_8py_source.html#l00764">764</a> of file <a class="el" href="dmerge_8py_source.html">dmerge.py</a>.</p>

</div>
</div>
<a id="a485ef880934aee663033a7285816bf26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a485ef880934aee663033a7285816bf26">&#9670;&nbsp;</a></span>find_glitch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def dmerge.find_glitch </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>yss</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>baseline_thresh</em> = <code>6.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>glitch_thresh</em> = <code>5.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>clusterize_thresh</em> = <code>2</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>offset</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>opt_diff2</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>smrange</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>returnval</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">find glitches common to `yss`, assuming glitch exists at the same
time of all data in `yss`. Too close glitches or broad glitch are
treated as one glitch.

引数
----
yss              : an array of 1-D arrays of data to deglitch
baseline_thresh  : threshold to decide baseline
glitch_thresh    : threshold to decide as glitch 
clusterize_thresh: if gap between glitches are less than or equal to this, treat them as one glitch.
offset           : an integer offset added to returned bad array
opt_diff2        : bool to select whether to use 2nd derivative for glitch identification
smrange          : an integer to set range of rolling mean (used for glitch identification based on std)
returnval        : bool to choose whether to return threshold value or not

戻り値(returnvalの値によって変化する)
-------------------------------------
an 1-D array of boolean, that can be used as index of ys (elements of yss).
(option) threshold value for glitch identification (return when returnval=True)
</pre> 
<p class="definition">Definition at line <a class="el" href="dmerge_8py_source.html#l00587">587</a> of file <a class="el" href="dmerge_8py_source.html">dmerge.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="make__reduced__fits_8py_source.html#l00025">make_reduced_fits.make_reduced_fits()</a>.</p>

</div>
</div>
<a id="a5c5f354b614667caaf5213c5bb944133"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c5f354b614667caaf5213c5bb944133">&#9670;&nbsp;</a></span>find_nearest_blind_tones()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def dmerge.find_nearest_blind_tones </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>kidslist</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment"> KID信号の左右にある最も近いblind信号を探す
引数
----
kidslist(dmerge.read_kidslist()関数の戻り値)

戻り値
------
list [[KID信号, 左blind tone, 右blind tone], ...]

戻り値の例
----------
[[-196483 -201203 -192949]
 [-189634 -192949 -184695]
 [-188948 -192949 -184695]
...
 [ 154774  153170  161962]
 [ 158692  153170  161962]
 [ 169653  161962  171230]]

詳細
----
この関数は引数に与えられたkidslistに含まれるkidsとblindsを利用する。
kidsとblindsを組み合わせて各kid信号の両側にある最も近いblind信号を探す。
見つかった左右のblind信号とkid信号をリストにまとめて返す。戻り値はリストの入れ子構造となる。
blind信号が見つからない場合はNoneが格納される。
戻り値はkidのbin番号で昇順になっている。
この関数はbbsweeplib.TODcalibに定義されていたkids_with_both_blinds()関数を単機能にしたもの。

探索の方法
----------
kid信号とblind信号を合わせたリストを作成する。このリストはbin番号で昇順に並べ替えられている。
あるkid信号のindexを取得し、そこを起点に左右に探索する(indexを減少または増加させる)。起点は含まない。
見つかった信号のbin番号がblind信号のリストに含まれる場合は、それをそのkid信号のblind信号とする。
</pre> 
<p class="definition">Definition at line <a class="el" href="dmerge_8py_source.html#l00055">55</a> of file <a class="el" href="dmerge_8py_source.html">dmerge.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="dmerge_8py_source.html#l00022">divide_data()</a>, and <a class="el" href="test__dmerge_8py_source.html#l00216">test_dmerge.DmergeTestDrive.test_kids_with_both_blinds()</a>.</p>

</div>
</div>
<a id="a395e452ead51556992d27cc181fea261"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a395e452ead51556992d27cc181fea261">&#9670;&nbsp;</a></span>find_peaks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def dmerge.find_peaks </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>freq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ampl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>smooth</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>threshold</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>minq</em> = <code>10000</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>maxratio</em> = <code>0.5</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Search peaks in data.
引数
----
freq      周波数の配列
ampl      amplitudeの配列
fc        TODのキャリア周波数
smooth    平滑化のwindow長(正の整数)[オプション]
threshold ピークの判定基準[オプション]
minq      Qの最小値(ピークの良し悪しの判定に利用する)[オプション]
maxratio  (bg - d)/bgの最小値(ピークの良し悪しの判定に利用する)[オプション]

戻り値
------
list Lorentzianのフィット共にgaolinbgのパラメタの初期値を決定するのに必要なパラメタを辞書にまとめたリスト
</pre> 
<p class="definition">Definition at line <a class="el" href="dmerge_8py_source.html#l00323">323</a> of file <a class="el" href="dmerge_8py_source.html">dmerge.py</a>.</p>

<p class="reference">References <a class="el" href="dmerge_8py_source.html#l00445">fitLorentzian()</a>, and <a class="el" href="dmerge_8py_source.html#l00433">oddify()</a>.</p>

<p class="reference">Referenced by <a class="el" href="calc__resonance__params_8py_source.html#l00018">calc_resonance_params.calc_resonance_params()</a>, <a class="el" href="test__dmerge_8py_source.html#l00253">test_dmerge.DmergeTestDrive.test_fit_sweep()</a>, and <a class="el" href="test__dmerge_8py_source.html#l00340">test_dmerge.DmergeTestDrive.test_rewind()</a>.</p>

</div>
</div>
<a id="a1bb4b2855e6f6ba8be356cd3e0bc17d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bb4b2855e6f6ba8be356cd3e0bc17d3">&#9670;&nbsp;</a></span>fit_onepeak()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def dmerge.fit_onepeak </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>sweepdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>peaks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nfwhm</em> = <code>5</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Sweepデータをgaolinbgでフィットする
引数
----
SweepData Sweepデータオブジェクト
list      find_peaks()関数で得られる各ピークのパラメタのリスト
integer   nfwhm

戻り値
------
MinimizerResult gaolinbgによるフィットの結果
slice           フィット範囲(インデックス)
</pre> 
<p class="definition">Definition at line <a class="el" href="dmerge_8py_source.html#l00227">227</a> of file <a class="el" href="dmerge_8py_source.html">dmerge.py</a>.</p>

<p class="reference">References <a class="el" href="dmerge_8py_source.html#l00480">adjust_fitrange()</a>, <a class="el" href="dmerge_8py_source.html#l00870">complex_to_cartesian2darray()</a>, <a class="el" href="dmerge_8py_source.html#l00831">gaolinbg_function()</a>, <a class="el" href="dmerge_8py_source.html#l00789">gaolinbg_guess()</a>, and <a class="el" href="dmerge_8py_source.html#l00843">gaolinbg_param_gradient_function()</a>.</p>

<p class="reference">Referenced by <a class="el" href="calc__resonance__params_8py_source.html#l00018">calc_resonance_params.calc_resonance_params()</a>, <a class="el" href="test__dmerge_8py_source.html#l00253">test_dmerge.DmergeTestDrive.test_fit_sweep()</a>, and <a class="el" href="test__dmerge_8py_source.html#l00340">test_dmerge.DmergeTestDrive.test_rewind()</a>.</p>

</div>
</div>
<a id="a7c621ad35f72bace4f3c9eb627a3278b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c621ad35f72bace4f3c9eb627a3278b">&#9670;&nbsp;</a></span>fitLorentzian()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def dmerge.fitLorentzian </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>freq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ampl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>f0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>q0</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Fit data with Lorentzian curve.
引数
----
freq a 1-D array of frequency
ampl a 1-D array of amplitude
f0   initial parameter for center frequency
q0   initial parameter for quality factor

戻り値
------
(fc, q, d, bg) フィットの結果をまとめたタプル

パラメタの説明
--------------
f : center frequency
q : quality factor
d : amplitude for Lorentzian curve
bg: constant background level
</pre> 
<p class="definition">Definition at line <a class="el" href="dmerge_8py_source.html#l00445">445</a> of file <a class="el" href="dmerge_8py_source.html">dmerge.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="dmerge_8py_source.html#l00323">find_peaks()</a>.</p>

</div>
</div>
<a id="af0a1f68887b5a819af4859103464370a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0a1f68887b5a819af4859103464370a">&#9670;&nbsp;</a></span>gaolinbg_bg_expression()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def dmerge.gaolinbg_bg_expression </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dmerge_8py_source.html#l00822">822</a> of file <a class="el" href="dmerge_8py_source.html">dmerge.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="dmerge_8py_source.html#l00837">gaolinbg_bg_function()</a>.</p>

</div>
</div>
<a id="a762ded2b68096e166fb5293bbbad975a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a762ded2b68096e166fb5293bbbad975a">&#9670;&nbsp;</a></span>gaolinbg_bg_function()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def dmerge.gaolinbg_bg_function </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dmerge_8py_source.html#l00837">837</a> of file <a class="el" href="dmerge_8py_source.html">dmerge.py</a>.</p>

<p class="reference">References <a class="el" href="dmerge_8py_source.html#l00822">gaolinbg_bg_expression()</a>.</p>

<p class="reference">Referenced by <a class="el" href="plot_8py_source.html#l00022">plot.plot()</a>.</p>

</div>
</div>
<a id="a95d520a6de8c70176d33ee29c85d5970"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95d520a6de8c70176d33ee29c85d5970">&#9670;&nbsp;</a></span>gaolinbg_expression()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def dmerge.gaolinbg_expression </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dmerge_8py_source.html#l00813">813</a> of file <a class="el" href="dmerge_8py_source.html">dmerge.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="dmerge_8py_source.html#l00831">gaolinbg_function()</a>, and <a class="el" href="dmerge_8py_source.html#l00843">gaolinbg_param_gradient_function()</a>.</p>

</div>
</div>
<a id="a9388d6c18c621fb538196ffb808575a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9388d6c18c621fb538196ffb808575a8">&#9670;&nbsp;</a></span>gaolinbg_function()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def dmerge.gaolinbg_function </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dmerge_8py_source.html#l00831">831</a> of file <a class="el" href="dmerge_8py_source.html">dmerge.py</a>.</p>

<p class="reference">References <a class="el" href="dmerge_8py_source.html#l00813">gaolinbg_expression()</a>.</p>

<p class="reference">Referenced by <a class="el" href="dmerge_8py_source.html#l00227">fit_onepeak()</a>, <a class="el" href="make__reduced__fits_8py_source.html#l00025">make_reduced_fits.make_reduced_fits()</a>, <a class="el" href="plot_8py_source.html#l00022">plot.plot()</a>, and <a class="el" href="test__dmerge_8py_source.html#l00340">test_dmerge.DmergeTestDrive.test_rewind()</a>.</p>

</div>
</div>
<a id="a74409ef120c1397ccf34fbe021d32399"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74409ef120c1397ccf34fbe021d32399">&#9670;&nbsp;</a></span>gaolinbg_guess()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def dmerge.gaolinbg_guess </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>sweepdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>peaks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dmerge_8py_source.html#l00789">789</a> of file <a class="el" href="dmerge_8py_source.html">dmerge.py</a>.</p>

<p class="reference">References <a class="el" href="dmerge_8py_source.html#l00303">search_peak()</a>.</p>

<p class="reference">Referenced by <a class="el" href="dmerge_8py_source.html#l00227">fit_onepeak()</a>.</p>

</div>
</div>
<a id="a1562e34f7b8f3e5d9f559dc4b807aeee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1562e34f7b8f3e5d9f559dc4b807aeee">&#9670;&nbsp;</a></span>gaolinbg_param_gradient_function()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def dmerge.gaolinbg_param_gradient_function </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dmerge_8py_source.html#l00843">843</a> of file <a class="el" href="dmerge_8py_source.html">dmerge.py</a>.</p>

<p class="reference">References <a class="el" href="dmerge_8py_source.html#l00813">gaolinbg_expression()</a>.</p>

<p class="reference">Referenced by <a class="el" href="dmerge_8py_source.html#l00227">fit_onepeak()</a>.</p>

</div>
</div>
<a id="ad6155b8f9180884b4a5fd340809d3941"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6155b8f9180884b4a5fd340809d3941">&#9670;&nbsp;</a></span>gaolinbg_rewind()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def dmerge.gaolinbg_rewind </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>arga</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>absa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tau</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Qr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Qc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>phi0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dmerge_8py_source.html#l00809">809</a> of file <a class="el" href="dmerge_8py_source.html">dmerge.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="make__reduced__fits_8py_source.html#l00025">make_reduced_fits.make_reduced_fits()</a>, <a class="el" href="plot_8py_source.html#l00022">plot.plot()</a>, <a class="el" href="test__dmerge_8py_source.html#l00110">test_dmerge.DmergeTestDrive.test_FixedFitData()</a>, and <a class="el" href="test__dmerge_8py_source.html#l00340">test_dmerge.DmergeTestDrive.test_rewind()</a>.</p>

</div>
</div>
<a id="a14cbcb50ffd3b04e2104e30284669103"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14cbcb50ffd3b04e2104e30284669103">&#9670;&nbsp;</a></span>interpolate_bad()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def dmerge.interpolate_bad </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bad</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Linear interpolate `ys` in region `bad`.
引数
----
ys : an 1-D array
bad: an 1-D array of boolean, with True indicating bad region in `ys`.

戻り値
------
an 1-D array, with bad region interpolated.
</pre> 
<p class="definition">Definition at line <a class="el" href="dmerge_8py_source.html#l00727">727</a> of file <a class="el" href="dmerge_8py_source.html">dmerge.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="make__reduced__fits_8py_source.html#l00025">make_reduced_fits.make_reduced_fits()</a>.</p>

</div>
</div>
<a id="a581dff913e689384f36e4c4d7779ae7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a581dff913e689384f36e4c4d7779ae7f">&#9670;&nbsp;</a></span>kids_dict()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def dmerge.kids_dict </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dmerge_8py_source.html#l00555">555</a> of file <a class="el" href="dmerge_8py_source.html">dmerge.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="make__reduced__fits_8py_source.html#l00025">make_reduced_fits.make_reduced_fits()</a>.</p>

</div>
</div>
<a id="a347d4ee927e7b04075281d0de0cbb576"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a347d4ee927e7b04075281d0de0cbb576">&#9670;&nbsp;</a></span>load_kidslist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def dmerge.load_kidslist </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">kids.listファイルを読み込みBIN番号やローカル発振器の周波数などを取得する
引数
----
kids.listファイルへのパス

戻り値
------
dict ローカル発振器の周波数とフレーム長を辞書にまとめたもの
list KID信号のBIN番号のリスト
list blind信号のBIN番号のリスト
dict BIN番号をキー(Int型)にしたpower(float型)の辞書

詳細
----
kids.listファイルの最初の2行はヘッダーとして処理する。
1行目はローカル発振器の周波数、2行目はフレーム長である信じて読み込む。
3行目以降は「#KIDs」か「#blinds」かBIN番号とpowerのペアが記されているものとする。
「#KIDs」があった場合はそれ以降のBIN番号はkid_bins変数のリストに追加する。
「#blinds」があった場合はそれ以降のBIN番号はblind_bins変数のリストに追加する。
bins変数はkid_binsリストへの参照かblind_binsリストへの参照かになる。
bins変数によってmode変数やフラグ変数による判定が必要なくなる。

読み込むkids.listファイルの形式
-------------------------------
#LO:5600.0000
#framelen:19
#KIDs
-196483 -75
-189634 -75
-188948 -75
    :
    :
154774  -75
158692  -78
169653  -78
#blinds
-232027 -75
-224371 -75
-216715 -75
    :
    :

注意
----
ファイルから読み取った1行(line)は必ずstrip()で処理しないと正しく読み込めない。
bins変数とnbin変数を混同しないように注意されたい。
bins変数はkid_binsリストかblind_binsリストへの参照であり、nbin変数はBIN番号を一時的に格納する変数である。
</pre> 
<p class="definition">Definition at line <a class="el" href="dmerge_8py_source.html#l00113">113</a> of file <a class="el" href="dmerge_8py_source.html">dmerge.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="test__dmerge_8py_source.html#l00216">test_dmerge.DmergeTestDrive.test_kids_with_both_blinds()</a>, <a class="el" href="test__dmerge_8py_source.html#l00236">test_dmerge.DmergeTestDrive.test_load_localsweep()</a>, and <a class="el" href="test__dmerge_8py_source.html#l00224">test_dmerge.DmergeTestDrive.test_read_kidslist()</a>.</p>

</div>
</div>
<a id="a0d9522fe35fdd36841ad3b1945bb9648"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d9522fe35fdd36841ad3b1945bb9648">&#9670;&nbsp;</a></span>load_localsweep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def dmerge.load_localsweep </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>framelen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">ローカルsweepデータを読み込みBIN番号とSweepDataオブジェクトを対応づけた辞書として返す
引数
----
string  ローカルsweepファイルへのパス
integer フレーム長

戻り値
------
dict BIN番号とSweepDataオブジェクト対応づけた辞書

説明
----
元のプログラムではread_localsweep()関数と_read_sweep()関数に分かれていた処理を一緒にした。
read_localsweep()関数ではOrderedDict()を用いてSweepDataをBIN番号順に並べ替えていたが、
この後の計算や処理でBIN番号順に並んでいる必要がないので、単純な辞書にSweepDataを格納することとした。
並べ替えなどの処理を省いた。
またSweepDataの辞書を作る際に辞書包括表記を用いた。

参考文献
--------
spaceKIDS Readout System Manula(SK-SRON-018-V0.3) page.7
上記のページにローカルsweepデータの読み方と各種計算方法が記されている。
</pre> 
<p class="definition">Definition at line <a class="el" href="dmerge_8py_source.html#l00191">191</a> of file <a class="el" href="dmerge_8py_source.html">dmerge.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="test__dmerge_8py_source.html#l00236">test_dmerge.DmergeTestDrive.test_load_localsweep()</a>.</p>

</div>
</div>
<a id="ac4c24a0be0dfe7a8432cc120df6ae649"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4c24a0be0dfe7a8432cc120df6ae649">&#9670;&nbsp;</a></span>oddify()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def dmerge.oddify </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">n/2を切り上げそれを2倍して1足し奇数にして返す
引数
----
integer

戻り値
------
integer 奇数
</pre> 
<p class="definition">Definition at line <a class="el" href="dmerge_8py_source.html#l00433">433</a> of file <a class="el" href="dmerge_8py_source.html">dmerge.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="dmerge_8py_source.html#l00323">find_peaks()</a>.</p>

</div>
</div>
<a id="ad8b79165502933a25c49ed78585423bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8b79165502933a25c49ed78585423bd">&#9670;&nbsp;</a></span>power_spectrum_density()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def dmerge.power_spectrum_density </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ndivide</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>window</em> = <code>scipy.signal.hanning</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>overwrap_half</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Calculate power spectrum density of data.
引数
----
data         : input data
dt           : time between each data
ndivide      : do averaging(split data into ndivide, get psd of each, and average them)
overwrap_half: a boolean, split data to half-overwrapped regions

戻り値
------
(frequencies, psd)
</pre> 
<p class="definition">Definition at line <a class="el" href="dmerge_8py_source.html#l00880">880</a> of file <a class="el" href="dmerge_8py_source.html">dmerge.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="plot_8py_source.html#l00022">plot.plot()</a>.</p>

</div>
</div>
<a id="aa868545fa59890b62e3e18d50a8115f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa868545fa59890b62e3e18d50a8115f7">&#9670;&nbsp;</a></span>readout_dict()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def dmerge.readout_dict </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dmerge_8py_source.html#l00531">531</a> of file <a class="el" href="dmerge_8py_source.html">dmerge.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="make__reduced__fits_8py_source.html#l00025">make_reduced_fits.make_reduced_fits()</a>.</p>

</div>
</div>
<a id="aa799363ecb09bd8b3b35a508b53ebbf7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa799363ecb09bd8b3b35a508b53ebbf7">&#9670;&nbsp;</a></span>rebin_array()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def dmerge.rebin_array </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>inarray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rebin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="dmerge_8py_source.html#l00584">584</a> of file <a class="el" href="dmerge_8py_source.html">dmerge.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="make__reduced__fits_8py_source.html#l00025">make_reduced_fits.make_reduced_fits()</a>.</p>

</div>
</div>
<a id="a606bff86e307f51683a7f35c36611caa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a606bff86e307f51683a7f35c36611caa">&#9670;&nbsp;</a></span>search_peak()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def dmerge.search_peak </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>sweepdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>peaks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">複数のピークが見つかった場合は中心周波数に一番近いピークを採用する
引数
----
SweepData Sweepデータオブジェクト
list      find_peaks()関数によって得られる各ピークのパラメタをまとめたリスト

戻り値
------
dict 選択されたピークのパラメタをまとめた辞書
</pre> 
<p class="definition">Definition at line <a class="el" href="dmerge_8py_source.html#l00303">303</a> of file <a class="el" href="dmerge_8py_source.html">dmerge.py</a>.</p>

<p class="reference">Referenced by <a class="el" href="dmerge_8py_source.html#l00789">gaolinbg_guess()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
